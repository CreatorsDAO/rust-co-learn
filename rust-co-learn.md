# æ¨¡å—ä¸€ï¼šäº†è§£Rust

## 1 .1 å®‰è£…Rust

#### 1.1.1 å®‰è£…Rust

`rustup`æ˜¯ä¸€ä¸ªç®¡ç†Rustç‰ˆæœ¬ä»¥åŠç›¸å…³å·¥å…·çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒæ¥å®‰è£…Rustå¼€å‘ç¯å¢ƒ

[åœ¨ Linux æˆ– macOS ä¸Šå®‰è£… `rustup`](https://rustwiki.org/zh-CN/book/ch01-01-installation.html#åœ¨-linux-æˆ–-macos-ä¸Šå®‰è£…-rustup)

[åœ¨ Windows ä¸Šå®‰è£… `rustup`](https://rustwiki.org/zh-CN/book/ch01-01-installation.html#åœ¨-windows-ä¸Šå®‰è£…-rustup)

#### 1.1.2 æ›´æ–°å’Œå¸è½½

```
rustup update # æ›´æ–°
```

```
rustup self uninstall # å¸è½½
```

#### 1.1.3 rustc

rustc æ˜¯Rustçš„ç¼–è¯‘å™¨ï¼Œå¦‚ä¸‹æ˜¯ä¸€äº›ä½¿ç”¨æ¡ˆä¾‹ï¼š

**æŸ¥çœ‹Rustç‰ˆæœ¬**

```
rustc --version # æŸ¥çœ‹å·²å®‰è£…çš„Rustçš„ç‰ˆæœ¬
```

**ç¼–è¯‘Rustä»£ç **

ä½¿ç”¨rustcæ¥ç›´æ¥ç¼–è¯‘ä»£ç ä¸ºäºŒè¿›åˆ¶ç¨‹åºï¼Œç„¶åè¿è¡Œï¼Œä¾‹å¦‚ï¼š

```
mkdir module-one # éšä¾¿åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹
cd module-one 
touch main.rs # éšä¾¿åˆ›å»ºä¸€ä¸ª.rsç»“å°¾çš„æ–‡ä»¶
```

rust-co-learn/module-one/main.rs

```
// å†™ä¸€ä¸ªç®€å•çš„mainå‡½æ•°
fn main() {
    println!("Hello Rust")
}
```

**ç¼–è¯‘å’Œè¿è¡Œ**

```
rustc main.rs
ls
main    main.rs # `main`ä¸ºç¼–è¯‘åçš„å¯æ‰§è¡Œç¨‹åº
./main # ä½¿ç”¨ `./filename` ç›´æ¥è¿è¡Œç¨‹åº
Hello Rust # è¾“å‡ºç»“æœ
```

**æ‰©å±•èµ„æ–™**

1. [å®˜æ–¹æ–‡æ¡£å…³äºrustcçš„ä»‹ç»](https://rustwiki.org/zh-CN/book/ch01-02-hello-world.html)

## 1.2 ä½¿ç”¨Cargo

`Cargo`æ˜¯ Rust çš„æ„å»ºç³»ç»Ÿå’ŒåŒ…ç®¡ç†å™¨,éå¸¸å¼ºå¤§ï¼Œç±»ä¼¼äºpythonçš„åŒ…ç®¡ç†å™¨pipã€‚å¯ä»¥ç”¨å®ƒæ¥åˆ›å»ºã€ç¼–è¯‘å’Œè¿è¡ŒRusté¡¹ç›®ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```
âœ  module-one git:(main) âœ— cargo new hello_rust --lib # åˆ›å»ºä¸€ä¸ª library crate
     Created library `hello_rust` package
âœ  module-one git:(main) âœ— cargo new hello_cargo --bin # åˆ›å»ºä¸€ä¸ª binary crate
     Created binary (application) `hello_cargo` package
âœ  module-one git:(main) âœ— ls
hello_cargo hello_rust
âœ  module-one git:(main) âœ— cd hello_cargo
âœ  hello_cargo git:(main) âœ— ls
Cargo.toml src
âœ  hello_cargo git:(main) âœ— cargo build --release # ç¼–è¯‘ï¼Œè¿™é‡Œä¸å†ä½¿ç”¨ rustc äº†
âœ  hello_cargo git:(main) âœ— cargo run # ç¼–è¯‘+è¿è¡Œ
Hello, world!
```

**æ‰©å±•èµ„æ–™**

1. [å®˜æ–¹æ–‡æ¡£ä¸­ä½¿ç”¨Cargoæ„å»ºé¡¹ç›®çš„è¯¦ç»†ä»‹ç»](https://rustwiki.org/zh-CN/book/ch01-03-hello-cargo.html)
2. [Cargo Bookï¼šCargoä½¿ç”¨å¤§å…¨](https://doc.rust-lang.org/cargo/)
3. [Rustä¸­çš„crateä¸é¡¹ç›®ç®¡ç†](https://zhuanlan.zhihu.com/p/614506900)

## 1.3 RuståŸºç¡€çŸ¥è¯†

### 2.1 å¸¸é‡ã€å˜é‡ã€å¯å˜æ€§å’Œä¸å˜æ€§

```
 // 1 å¸¸é‡
    // ä½¿ç”¨ const å£°æ˜; å¸¸é‡åç§°ä½¿ç”¨å¤§å†™å­—æ¯; æ˜¾å¼æ ‡æ³¨ç±»å‹

    const RUST: &str = "rust";
    const WEIGHT: u64 = 100;

    println!("{},{}",RUST,WEIGHT);

    // 2 å˜é‡
    // ä½¿ç”¨let å£°æ˜,å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å˜é‡ç±»å‹

    let name = "rust";
    let age: u32 = 13;

    println!("{},{}",name,age);

    // 3 ä¸å˜æ€§
    // Rustä¸­å˜é‡é»˜è®¤ä¸å¯å˜ï¼Œè‹¥éœ€ä¿®æ”¹å˜é‡ï¼Œéœ€è¦ä½¿ç”¨mutå…³é”®å­—å£°æ˜å˜é‡å…·æœ‰å¯å˜æ€§

    let _language = "go";
    // _language = "rust"; æ— æ³•ä¿®æ”¹

    // 4 å¯å˜æ€§
    // é€šè¿‡ mut å£°æ˜å˜é‡

    let mut language = "go";
    language = "rust";

    println!("{}", language);
```

æ‰©å±•èµ„æ–™

1. [å®˜æ–¹æ–‡æ¡£å…³äºå˜é‡é®è”½çš„ä»‹ç»](https://rustwiki.org/zh-CN/book/ch03-01-variables-and-mutability.html)
2. [é€šè¿‡å¯å˜å®¹å™¨è®©å˜é‡è·å¾—å¯å˜æ€§](https://zhuanlan.zhihu.com/p/611487702)

### 2.2 åŸºç¡€æ•°æ®ç±»å‹

Rustæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ¯ä¸ªå€¼éƒ½æœ‰ç¡®åˆ‡çš„ç±»å‹

#### 2.2.1 æ ‡é‡ç±»å‹

```
 // 1 æ•´æ•°ç±»å‹

    // Rust ä¸­æ•´æ•°ç±»å‹åˆ†ä¸ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·ç±»å‹ï¼›é•¿åº¦åˆ†ä¸º8ä½ï¼Œ16ä½ï¼Œ32ä½ï¼Œ64ä½ï¼Œ128ä½
    // ç‰¹æ®Šçš„æ•´æ•°ç±»å‹: usize å’Œ isizeï¼Œä¸ç³»ç»Ÿæ¶æ„ç›¸å…³ï¼Œ32ä½çš„ç³»ç»Ÿåˆ™ä¸º32ä½ï¼Œ64ä½çš„ç³»ç»Ÿä¸º64ä½

    let integer: i32 = 42;
    let s: usize = 100;

    // 2 æµ®ç‚¹ç±»å‹
    // Rust çš„æµ®ç‚¹å‹æ˜¯ f32 å’Œ f64ï¼Œå¤§å°åˆ†åˆ«ä¸º 32 ä½å’Œ 64 ä½ã€‚é»˜è®¤æµ®ç‚¹ç±»å‹æ˜¯ f64
    // æµ®ç‚¹å‹éƒ½æ˜¯æœ‰ç¬¦å·çš„

    let x = 2.0; // f64
    let y: f32 = 3.0; // f32

    // 3 å¸ƒå°”ç±»å‹

    let t = true;
    let f: bool = false;

    // 4 å­—ç¬¦ç±»å‹ char
    // Rust çš„å­—ç¬¦ç±»å‹å¤§å°ä¸º 4 ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ª Unicode æ ‡é‡å€¼

    let c = 'z';
    let z = 'â„¤';
    let heart_eyed_cat = 'ğŸ˜»';
```

å‚è€ƒèµ„æ–™

1. [Rustå®˜æ–¹æ–‡æ¡£å…³äºåŸºç¡€ç±»å‹çš„è¯¦ç»†ä»‹ç»](https://rustwiki.org/zh-CN/book/ch03-02-data-types.html)

#### 2.2.2 å¤åˆç±»å‹

```
 // 1 å…ƒç»„
    // Rustä¸­çš„å…ƒç»„å¯ä»¥å°†å„ç§ç±»å‹ç»„åˆèµ·æ¥
    let types = (42, "Rust", true);

    // å¯ä»¥åƒè®¿é—®æ•°ç»„å…ƒç´ ä¸€æ ·é€šè¿‡ä¸‹æ ‡ç´¢å¼•è®¿é—®
    println!("num is {}", types.0);

    // å•å…ƒç±»å‹ ï¼ˆï¼‰
    // å•å…ƒç±»å‹åœ¨Rustä¸­æ˜¯éå¸¸é‡è¦çš„ç±»å‹ï¼Œå¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œå°±éšå¼åœ°è¿”å›å•å…ƒå€¼ï¼Œ
    // å¦‚æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°æˆ–è€…ä½œç”¨åŸŸ

    let a: () = {};
    fn return_tuple() {}
    let func: () = return_tuple();
    assert_eq!(a, func);

    // 2 æ•°ç»„
    // é€šè¿‡ç´¢å¼•æ¥è®¿é—®æˆ–è€…ä¿®æ”¹æ•°ç»„ä¸­çš„å…ƒç´ 

    let arr = [1, 2, 3, 4, 5];

    let mut arr1 = [0, 0, 0, 0, 0];
    arr1[0] = 100;
    println!("{:?}", arr1); // [100, 0, 0, 0, 0]
```

æ›´å¤šå‚è€ƒèµ„æ–™

1. [å®˜æ–¹æ–‡æ¡£ä¸­å…³äºå¤åˆç±»å‹çš„ä»‹ç»](https://rustwiki.org/zh-CN/book/ch03-02-data-types.html)
2. [å…³äºRustä¸­ç±»å‹ä¸è¡¨è¾¾å¼çš„è¯¦ç»†ä»‹ç»ï¼Œæ­¤è¯¾ç¨‹ä¸ºä»˜è´¹è¯¾ç¨‹ï¼Œä½†æ˜¯å¼ºçƒˆæ¨è](https://time.geekbang.org/course/detail/100060601-289993)

### 2.3 è¿›é˜¶æ•°æ®ç±»å‹

#### 2.3.1 å­—ç¬¦ä¸²

Rustä¸­çš„å­—ç¬¦ä¸²æ¯”è¾ƒå¤æ‚ï¼Œæœ‰å¤šç§å½¢å¼ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚æ ¸å¿ƒæ˜¯éœ€è¦æŒæ¡&strå’ŒString

Ruståœ¨ç¼–è¯‘ä»£ç æ—¶éœ€è¦åœ¨ç¼–è¯‘æœŸå°±èƒ½å¤Ÿç¡®å®šç±»å‹çš„å¤§å°ï¼Œè€Œå­—ç¬¦ä¸²stræœ¬èº«æ˜¯åŠ¨æ€å¤§å°çš„ï¼Œå› è€Œæ—¥å¸¸ä¸­æˆ‘ä»¬æ›´å¤šä½¿ç”¨çš„æ˜¯å­—ç¬¦ä¸²çš„å¼•ç”¨&strå’ŒString

```
   // 1 &str
    // å­—ç¬¦ä¸²å­—é¢é‡å®é™…ä¸Šå­˜æ”¾åœ¨ç¨‹åºçš„åªè¯»æ•°æ®æ®µä¸­ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ä¼šè¢«åŠ è½½åˆ°å†…å­˜ä¸­è¯»å–
    let s = "Hello Rust";
    let mut s1 = "Hello Go";

    s1 = "Hello Rust";
    println!("{}", s1);

    // 2 String
    // String é€šè¿‡æŒ‡é’ˆæŒ‡å‘å­˜æ”¾åœ¨å †ä¸Šçš„å­—ç¬¦ä¸²

    let s2 = String::from("Hello Rust");

    // String æœ‰ä¸‰ä¸ªwordï¼šptrã€lenã€cap,å¯ä»¥ç›´æ¥é€šè¿‡æ–¹æ³•è®¿é—®

    let cap = s2.capacity();
    let len = s2.len();
    let ptr = s2.as_ptr();

    println!("len {}", len);
    println!("cap {}", cap);
    println!("pointer {:?}", ptr);

    // 3 å­—ç¬¦ä¸²åˆ‡ç‰‡
    // å­—ç¬¦ä¸²æœ¬è´¨ä¸Šä¸€ä¸ªu8åºåˆ—ï¼Œæ”¯æŒåˆ‡ç‰‡æ“ä½œ

    let s1 = String::from("Hello Rust");
    let s2 = "Hello Rust";

    let slice1 = &s1[0..5];
    let slice2 = &s2[6..10];

    println!("slice1: {}", slice1); // Hello
    println!("slice2: {}", slice2); // Rust
```

æ›´å¤šå‚è€ƒèµ„æ–™

1. [å®˜æ–¹æ–‡æ¡£ä¸­å…³äºå­—ç¬¦ä¸²çš„æ›´å¤šè§£é‡Š](https://rustwiki.org/zh-CN/book/ch08-02-strings.html)
2. [ä¸€äº›å­—ç¬¦ä¸²ç»ƒä¹ çš„å°ä¾‹å­](https://github.com/rust-lang-cn/rustlings-cn/tree/main/exercises/strings)

#### 2.3.2 å¼•ç”¨



#### 2.3.3 Slice

#### 2.3.4 ç»“æ„ä½“

#### 2.3.5 æšä¸¾

#### 2.3.6 å‡½æ•°

#### 2.3.7 é—­åŒ…

#### 2.3.8 æ³›å‹

### 2.4 æ³¨é‡Š

### 2.5 æ§åˆ¶æµ

2.5.1 æ¨¡å¼åŒ¹é…

## 3 ç»ƒä¹ 

# æ¨¡å—äºŒï¼šRustæ ¸å¿ƒçŸ¥è¯†

## 1 æ‰€æœ‰æƒæœºåˆ¶

æ‰€æœ‰æƒä¸å­—ç¬¦ä¸²

æ‰€æœ‰æƒä¸åŠ¨æ€ç±»å‹

æ‰€æœ‰æƒå…±äº«

## 2 å€Ÿç”¨å’Œç”Ÿå‘½å‘¨æœŸ



## 3 traitä¸æ³›å‹

æ ‡å‡†åº“ä¸­çš„ä¸»è¦trait

æ³›å‹ã€è‡ªå®šä¹‰æ•°æ®ç»“æ„å’Œtrait

## 4 é¡¹ç›®ç»ƒä¹ 

# æ¨¡å—ä¸‰ï¼šRustè¿›é˜¶çŸ¥è¯†

## 1 è¿­ä»£å™¨ä¸é—­åŒ…

## 2 æ™ºèƒ½æŒ‡é’ˆ

## 3 é¡¹ç›®ç»ƒä¹ 

# æ¨¡å—å››ï¼šRusté¡¹ç›®åŸºç¡€

## 1 é”™è¯¯å¤„ç†

## 2 é¡¹ç›®ç®¡ç†

### 2.1 crate

### 2.2 å·¥ä½œç©ºé—´

## 3 æµ‹è¯•

### 3.1 å•å…ƒæµ‹è¯•

### 3.2 æ–‡æ¡£æµ‹è¯•

### 3.3 é›†æˆæµ‹è¯•

## 4 é¡¹ç›®ç»ƒä¹ 

# æ¨¡å—äº”ï¼šå¼‚æ­¥ç¼–ç¨‹å’Œæ— ç•å¹¶å‘

## 1 å¹¶å‘å’Œå¼‚æ­¥ç¼–ç¨‹åŸºç¡€

## 2 Rustå¹¶å‘å’Œå¼‚æ­¥ç¼–ç¨‹

## 3 é¡¹ç›®å®æˆ˜

## 4 é¡¹ç›®ç»ƒä¹ 

# æ¨¡å—å…­ï¼šRustå†…å®¹æ‰©å±•ï¼ˆé€‰å­¦ï¼‰

## 1 å®ç¼–ç¨‹

## 2 Unsafe Rust

## 3 é˜…è¯»ææ–™



